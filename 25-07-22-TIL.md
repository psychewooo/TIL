### 25-07-22

### Basic Syntax 2
#### 오늘의 시행착오
* **얕은 복사 (Shallow Copy)**   
    객체의 참조 주소만 복사하여 새로운 객체를 생성하는 방식  
    객체의 참조 주소만 복사하기 때문에 원본 객체와 복사된 객체가 동일한 데이터를 참조

* **깊은 복사 (Deep Copy)**  
    객체의 모든 필드를 복사하여 새로운 객체를 생성하는 방식  
    객체의 모든 데이터를 복사하기 때문에 원본 객체와 복사된 객체가 독립적으로 존재

    <br>

1. 얕은 복사를 이용한 문제 해결시 발생 오류
```python
catalog = [
    ['시간의 틈', '반짝임의 어둠', '망각의 경계'],
    ['연기의 수수께끼', '장면의 고백', '드라마의 그림자'],
    ['황금의 칼날', '비열한 간신', '무명의 영웅'],
    ['성공의 열쇠', '내면의 변화', '목표의 달성'],
]

backup_catalog = catalog.copy()

''' 
도서 제목 '성공의 열쇠', '내면의 변화', '목표의 달성' 을 각각
'성공을 향한 한 걸음', '내 삶의 변화', '목표 달성의 비밀' 가 되도록 변경하시오.
'''
```

a. 
```python
catalog[3] = ['성공을 향한 한 걸음', '내 삶의 변화', '목표 달성의 비밀']

print('backup_catalog : ')
print(backup_catalog)
print()

print('catalog : ')
print(catalog)

backup_catalog : 
[['시간의 틈', '반짝임의 어둠', '망각의 경계'], ['연기의 수수께끼', '장면의 고백', '드라마의 그림자'], ['황금의 칼날', '비열한 간신', '무명의 영웅'], ['성공을 향한 한 걸음', '내 삶의 변화', '목표 달성의 비밀']]

catalog :
[['시간의 틈', '반짝임의 어둠', '망각의 경계'], ['연기의 수수께끼', '장면의 고백', '드라마의 그림자'], ['황금의 칼날', '비열한 간신', '무명의 영웅'], ['성공을 향한 한 걸음', '내 삶의 변화', '목표 달성의 비밀']]
```
b.
```python
catalog[3][0] = '성공을 향한 한 걸음'
catalog[3][1] = '내 삶의 변화'
catalog[3][2] = '목표 달성의 비밀'

print('backup_catalog : ')
print(backup_catalog)
print()

print('catalog : ')
print(catalog)

backup_catalog : 
[['시간의 틈', '반짝임의 어둠', '망각의 경계'], ['연기의 수수께끼', '장면의 고백', '드라마의 그림자'], ['황금의 칼날', '비열한 간신', '무명의 영웅'], ['성공의 열쇠', '내면의 변화', '목표의 달성']]

catalog :
[['시간의 틈', '반짝임의 어둠', '망각의 경계'], ['연기의 수수께끼', '장면의 고백', '드라마의 그림자'], ['황금의 칼날', '비열한 간신', '무명의 영웅'], ['성공을 향한 한 걸음', '내 삶의 변화', '목표 달성의 비밀']]
```
<br>

* 얕은 복사를 수행할 경우 바깥쪽 리스트만 새롭게 복사되고, 중첩된 리스트는 원본과 복사본이 같은 객체를 참조하게 됨  
* catalog[3] = ...는 새로운 리스트 객체를 할당하는 것이므로, backup_catalog는 영향을 받지 않음  
* catalog[3][0] = ...는 catalog와 backup_catalog가 공유하는 중첩된 리스트 객체의 내부를 수정하는 것이므로, 두 변수 모두에서 변경 사항이 보임  

<br>

   2. deepcopy를 이용한 해결 방법
```python
from copy import deepcopy

backup_catalog = deepcopy(catalog)
```
